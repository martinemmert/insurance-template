---
interface Props {
  title: string;
  subtitle?: string;
  category?: string;
  authorName?: string;
  authorImage?: string;
  date?: string;
  readingTime?: string;
  class?: string;
}

const {
  title,
  subtitle,
  category,
  authorName,
  authorImage,
  date,
  readingTime,
  class: className
} = Astro.props;
---

<header class:list={['article-header', className]}>
  <slot name="breadcrumb" />

  {category && (
    <span class="article-header__category">{category}</span>
  )}

  <h1 class="article-header__title">{title}</h1>

  {subtitle && (
    <p class="article-header__subtitle">{subtitle}</p>
  )}

  <div class="article-header__meta">
    {authorName && (
      <div class="article-header__author">
        {authorImage && (
          <img src={authorImage} alt={authorName} class="article-header__author-image" />
        )}
        <div>
          <div class="article-header__author-name">{authorName}</div>
        </div>
      </div>
    )}

    {date && (
      <div class="article-header__date">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        {date}
      </div>
    )}

    {readingTime && (
      <div class="article-header__reading-time">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        {readingTime}
      </div>
    )}
  </div>
</header>

<style>
  .article-header {
    padding: 3rem 1.5rem 2rem;
  }

  .article-header__category {
    display: inline-block;
    font-size: 0.8125rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: #1a4d2e;
    background: #e8f4ed;
    padding: 0.375rem 0.875rem;
    border-radius: 2rem;
    margin-bottom: 1rem;
  }

  .article-header__title {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 1rem;
  }

  .article-header__subtitle {
    font-size: 1.25rem;
    color: #555;
    line-height: 1.5;
    margin-bottom: 1.5rem;
  }

  .article-header__meta {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    flex-wrap: wrap;
    font-size: 0.9375rem;
    color: #666;
  }

  .article-header__author {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .article-header__author-image {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    object-fit: cover;
  }

  .article-header__author-name {
    font-weight: 600;
    color: #1a1a1a;
  }

  .article-header__date,
  .article-header__reading-time {
    display: flex;
    align-items: center;
    gap: 0.375rem;
  }
</style>
