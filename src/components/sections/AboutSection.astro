---
interface Credential {
  value: string;
  label: string;
}

interface Props {
  title: string;
  paragraphs: string[];
  image: string;
  imageAlt?: string;
  credentials?: Credential[];
  imagePosition?: 'left' | 'right';
  class?: string;
}

const {
  title,
  paragraphs,
  image,
  imageAlt = '',
  credentials,
  imagePosition = 'left',
  class: className
} = Astro.props;
---

<div class:list={['about', imagePosition === 'right' && 'about--reversed', className]}>
  <div class="about__image">
    <img src={image} alt={imageAlt} />
  </div>
  <div class="about__content">
    <h2 class="about__title">{title}</h2>
    {paragraphs.map(p => (
      <p class="about__text">{p}</p>
    ))}
    {credentials && credentials.length > 0 && (
      <div class="about__credentials">
        {credentials.map(cred => (
          <div class="credential">
            <div class="credential__number">{cred.value}</div>
            <div class="credential__label">{cred.label}</div>
          </div>
        ))}
      </div>
    )}
    <slot />
  </div>
</div>

<style>
  .about {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
  }

  .about--reversed {
    direction: rtl;
  }

  .about--reversed > * {
    direction: ltr;
  }

  .about__image {
    border-radius: 1rem;
    overflow: hidden;
  }

  .about__image img {
    width: 100%;
    height: 500px;
    object-fit: cover;
  }

  .about__title {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
  }

  .about__text {
    font-size: 1.0625rem;
    color: #555;
    margin-bottom: 1rem;
    line-height: 1.7;
  }

  .about__credentials {
    display: flex;
    gap: 2rem;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #e0e0e0;
  }

  .credential__number {
    font-size: 2rem;
    font-weight: 800;
    color: #1a4d2e;
  }

  .credential__label {
    font-size: 0.875rem;
    color: #666;
  }

  @media (max-width: 1024px) {
    .about {
      grid-template-columns: 1fr;
    }

    .about--reversed {
      direction: ltr;
    }

    .about__image img {
      height: 350px;
    }
  }
</style>
